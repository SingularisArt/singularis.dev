{{ define "main" }}

{{- $showTitle := .Params.showTitle -}}

{{ $tutorials := .Site.GetPage "posts/tutorials" }}
{{ $blogs := .Site.GetPage "posts/blogs" }}

{{ $projects := .Site.GetPage "section" "projects" }}
{{ $papers := .Site.GetPage "academia/papers" }}

<div class="prose-singularisart dark:prose-invert px-4 py-4 md:py-3 md:px-8 max-w-[1000px] mx-auto min-h-[100vh] flex flex-col">
  {{- if eq $showTitle true -}}
    <h1 class="text-center">{{ .Title }}</h1>
  {{- end -}}

  <section class="relative">
    <h2><a href="/posts" class="text-primary-500 hover:text-primary-700">Posts</a></h2>

    <h3><a href="/posts/tutorials" class="text-primary-500 hover:text-primary-700">Tutorials</a></h3>

    {{ range $tutorials.Pages | first 3 }}
      {{ partial "list-post.html" . }}
    {{ end }}

    {{- if gt (len $tutorials.Pages) 3 -}}
      <div class="text-center">
        <a class="text-primary-500 hover:text-primary-700" href="{{ $tutorials.RelPermalink }}">View More</a>
      </div>
    {{- end -}}

    <h3><a href="/posts/blogs" class="text-primary-500 hover:text-primary-700">Blogs</a></h3>

    {{ range $blogs.Pages | first 3 }}
      {{ partial "list-post.html" . }}
    {{ end }}

    {{- if gt (len $blogs.Pages) 3 -}}
      <div class="text-center">
        <a class="text-primary-500 hover:text-primary-700" href="{{ $blogs.RelPermalink }}">View More</a>
      </div>
    {{- end -}}

    {{ partial "line.html" . }}
  </section>

  <section class="relative">
    <h2><a href="/projects" class="text-primary-500 hover:text-primary-700">Projects</a></h2>

    {{ range $projects.Pages | first 3 }}
      {{ partial "list-project.html" . }}
    {{ end }}

    {{- if gt (len $projects.Pages) 3 -}}
      <div class="text-center">
        <a class="text-primary-500 hover:text-primary-700" href="{{ $tutorials.RelPermalink }}">View More</a>
      </div>
    {{- end -}}

    {{ partial "line.html" . }}
  </section>

  <section class="relative">
    <h2><a href="/academia" class="text-primary-500 hover:text-primary-700">Academia</a></h2>

    <h3><a href="/academia/papers" class="text-primary-500 hover:text-primary-700">Papers</a></h3>

    {{ range $papers.Pages | first 3 }}
      {{ partial "list-paper.html" . }}
    {{ end }}

    {{- if gt (len $papers.Pages) 3 -}}
      <div class="text-center">
        <a class="text-primary-500 hover:text-primary-700" href="{{ $tutorials.RelPermalink }}">View More</a>
      </div>
    {{- end -}}

    <h3><a href="/academia/presentations" class="text-primary-500 hover:text-primary-700">Presentations</a></h3>

    <h3><a href="/academia/talks" class="text-primary-500 hover:text-primary-700">Talks</a></h3>

    <h3><a href="/academia/notes" class="text-primary-500 hover:text-primary-700">Notes</a></h3>

    {{ partial "line.html" . }}
  </section>
</div>

{{ end }}
